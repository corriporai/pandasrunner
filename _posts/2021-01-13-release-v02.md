---
keywords: fastai
description: Runpandas package comes with new features and improved docs!
title: Release 0.2.0 and support to Strava! 
toc: false 
badges: true
comments: true
author: Marcel Caraciolo
categories: [general, jupyter, releases]
image: images/releasev02.png
nb_path: _notebooks/2021-01-13-release-v02.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-01-13-release-v02.ipynb
-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>This  current state of the project is <code>early beta</code>, which means that features can be added, removed or changed in backwards incompatible ways.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We are very excited to announce <a href="https://pypi.org/project/runpandas/">RunPandas 0.2</a>. This release comes with new features and fixes, let's highlight them:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a href="https://www.runpandas.run/en/latest/">Improved docummentation</a> with new sections such as User Guide, Install Guide, API Reference and Changelog.</li>
<li>Support to new code and docummentation third-party plugins like CodeFactor, Pepy, Zenodo and Binder.</li>
<li>Support to read multiple tracking files from a single directory </li>
<li>Added the feature of fetching activity data from social network <a href="http://strava.com/">Strava</a>.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-is-Runpandas?">What is Runpandas?<a class="anchor-link" href="#What-is-Runpandas?"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Runpandas is a python package based on <code>pandas</code> data analysis library, that makes it easier to perform data analysis from your running sessions stored at tracking files from cellphones and GPS smartwatches or social sports applications such as Strava, MapMyRUn, NikeRunClub, etc. It is designed to enable reading, transforming and running metrics analytics from several tracking files and apps.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Main-Features">Main Features<a class="anchor-link" href="#Main-Features"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Read-multiple-tracking-files-from-a-single-directory">Read multiple tracking files from a single directory<a class="anchor-link" href="#Read-multiple-tracking-files-from-a-single-directory"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the new module function <code>runpandas.read_dir</code> , you can reall all the files in a directory and iterate over them. It uses <code>runpandas.read_file</code>  and returns a generator. It is important to notice that
<code>read_dir</code> expects all the files to be of a supported file format in the directory.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span> <span class="nn">runpandas</span>

<span class="n">directory</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;path/to/some/dir/&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">runpandas</span><span class="o">.</span><span class="n">read_dir</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
    <span class="c1"># Do things with the activities</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Support-to-fetch-activity-stream-data-from-Strava">Support to fetch activity stream data from Strava<a class="anchor-link" href="#Support-to-fetch-activity-stream-data-from-Strava"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We addded the support to fetch a single activity stream from the social sports app Strava. The function <code>runpandas.read_strava</code> assumes that you have an API access token and already performed an API authentication. You can use a support script available at our repository <code>strava_auth_handler.py</code> that we developed using the library <code>stravalib</code>.  The basic usage is simple and it saves the API token into a file.</p>
<p>It is required to have a client_id and and a client_secret, for that you must have a developer account at strava and create an application. See further at strava:  (<a href="https://developers.strava.com/">https://developers.strava.com/</a>)</p>
<p>Here a simple example about how to call :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="gp">$</span> python scripts/strava_auth_handler.py --client_id YOUCLIENTID --client_secret YOURCLIENTSECRET
<span class="gp">$</span> more access_token.json

<span class="go">&quot;{\&quot;access_token\&quot;: \&quot;YOURACCESSTOKEN\&quot;, \&quot;refresh_token\&quot;: \&quot;YOURREFRESHTOKEN\&quot;, \&quot;expires_at\&quot;: 1607634877}&quot;</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>read_strava()</code> returns a <code>runpandas.Activity</code> with column <code>runpandas.MeasureSeries</code> matching Runpandas nomenclature.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Disable INFO Logging for a better visualization</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">runpandas</span>

<span class="n">activity</span> <span class="o">=</span> <span class="n">runpandas</span><span class="o">.</span><span class="n">read_strava</span><span class="p">(</span><span class="n">activity_id</span><span class="o">=</span><span class="mi">4437021783</span><span class="p">,</span> <span class="n">access_token</span><span class="o">=</span><span class="s2">&quot;c1370af8341f5c5696988d54a1560130737f5954&quot;</span><span class="p">)</span>

<span class="n">activity</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>2020-12-06 06:36:27
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>moving</th>
      <th>velocity_smooth</th>
      <th>grade_smooth</th>
      <th>alt</th>
      <th>cad</th>
      <th>dist</th>
      <th>hr</th>
      <th>lon</th>
      <th>lat</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>00:00:00</th>
      <td>False</td>
      <td>0.0</td>
      <td>1.1</td>
      <td>6.4</td>
      <td>79</td>
      <td>0.0</td>
      <td>111</td>
      <td>-34.847439</td>
      <td>-8.016994</td>
    </tr>
    <tr>
      <th>00:00:04</th>
      <td>True</td>
      <td>1.4</td>
      <td>1.2</td>
      <td>6.4</td>
      <td>79</td>
      <td>5.6</td>
      <td>111</td>
      <td>-34.847324</td>
      <td>-8.016978</td>
    </tr>
    <tr>
      <th>00:00:06</th>
      <td>True</td>
      <td>1.6</td>
      <td>0.9</td>
      <td>6.5</td>
      <td>79</td>
      <td>9.5</td>
      <td>111</td>
      <td>-34.847252</td>
      <td>-8.016969</td>
    </tr>
    <tr>
      <th>00:00:09</th>
      <td>True</td>
      <td>2.3</td>
      <td>1.2</td>
      <td>6.6</td>
      <td>79</td>
      <td>16.9</td>
      <td>111</td>
      <td>-34.847221</td>
      <td>-8.016894</td>
    </tr>
    <tr>
      <th>00:00:12</th>
      <td>True</td>
      <td>2.3</td>
      <td>1.1</td>
      <td>6.6</td>
      <td>79</td>
      <td>23.2</td>
      <td>111</td>
      <td>-34.847176</td>
      <td>-8.016860</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Thanks">Thanks<a class="anchor-link" href="#Thanks"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We are constantly developing Runpandas improving its existing features and adding new ones. We will be glad to hear from you about what you like or don’t like, what features you may wish to see in upcoming releases. Please feel free to contact us.</p>

</div>
</div>
</div>
</div>
 

